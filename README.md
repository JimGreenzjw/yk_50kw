# CAN数据监控器

一个基于PyQt5的简化版CAN数据监控界面，用于实时显示和记录CAN总线数据。

## 功能特性

- **设备控制**: 支持多种ZLG CAN设备类型
- **实时数据显示**: 实时显示接收到的CAN帧数据
- **数据统计**: 显示接收帧数和错误数
- **数据保存**: 将接收到的数据保存到文本文件
- **简洁界面**: 现代化的用户界面设计

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

1. **运行程序**:
   ```bash
   python can_monitor_gui.py
   ```

2. **设备配置**:
   - 选择设备类型 (USBCAN-2E-U, USBCAN-E-U等)
   - 设置设备索引 (通常为0)
   - 选择通道 (通道0或通道1)
   - 设置波特率 (默认250000)

3. **连接设备**:
   - 点击"打开设备"按钮
   - 确认设备连接成功

4. **开始监控**:
   - 点击"开始接收"按钮开始接收数据
   - 实时数据将显示在文本框中
   - 点击"停止接收"按钮停止接收

5. **数据管理**:
   - 点击"清空显示"清除当前显示的数据
   - 点击"保存数据"将数据保存到文件

## 界面说明

### 设备控制区域
- **设备类型**: 选择CAN设备型号
- **设备索引**: 设备在系统中的索引号
- **通道**: 选择CAN通道
- **波特率**: 设置CAN总线波特率

### 数据显示区域
- **CAN数据**: 实时显示接收到的CAN帧
- **接收帧数**: 显示已接收的帧数统计
- **错误数**: 显示接收错误数统计

### 控制按钮
- **开始接收**: 开始接收CAN数据
- **停止接收**: 停止接收CAN数据
- **保存数据**: 将当前数据保存到文件

## 数据格式

接收到的CAN数据格式为:
```
[时间戳] ID: XXX | DLC: X | Data: XX XX XX XX XX XX XX XX
```

- **时间戳**: 数据接收时间
- **ID**: CAN帧ID (十六进制)
- **DLC**: 数据长度
- **Data**: 数据内容 (十六进制)

## 注意事项

1. 确保CAN设备已正确连接到计算机
2. 确保已安装相应的设备驱动程序
3. 确保zlgcan.dll文件在当前目录或系统路径中
4. 根据实际CAN网络设置正确的波特率

## 系统要求

- Python 3.6+
- PyQt5 5.15+
- Windows操作系统 (支持ZLG CAN设备)
- ZLG CAN设备驱动

## 故障排除

1. **设备连接失败**: 检查设备驱动和连接
2. **无法接收数据**: 检查CAN网络配置和波特率设置
3. **程序崩溃**: 检查zlgcan.dll文件是否存在 